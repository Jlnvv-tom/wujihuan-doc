import{_ as i,c as a,o as n,aj as l}from"./chunks/framework.CynFBi0q.js";const g=JSON.parse('{"title":"MySQL 数据库应用指南：第1章 数据库基础概念认知","description":"","frontmatter":{},"headers":[],"relativePath":"handbook/mysql/chapter_1.md","filePath":"handbook/mysql/chapter_1.md","lastUpdated":1769350105000}'),h={name:"handbook/mysql/chapter_1.md"};function e(t,s,r,p,k,d){return n(),a("div",null,[...s[0]||(s[0]=[l(`<h1 id="mysql-数据库应用指南-第1章-数据库基础概念认知" tabindex="-1">MySQL 数据库应用指南：第1章 数据库基础概念认知 <a class="header-anchor" href="#mysql-数据库应用指南-第1章-数据库基础概念认知" aria-label="Permalink to “MySQL 数据库应用指南：第1章 数据库基础概念认知”">​</a></h1><p>作为学习MySQL的第一步，我们先抛开具体的命令和操作，从底层逻辑入手，搞懂数据库的核心概念。这一章的内容看似基础，却是后续所有实操的“地基”，帮你建立对数据库系统的整体认知。</p><h2 id="_1-1-数据与数据库的核心定义" tabindex="-1">1.1 数据与数据库的核心定义 <a class="header-anchor" href="#_1-1-数据与数据库的核心定义" aria-label="Permalink to “1.1 数据与数据库的核心定义”">​</a></h2><p>在聊数据库之前，我们先明确最基础的两个概念：</p><h3 id="数据-data" tabindex="-1">数据（Data） <a class="header-anchor" href="#数据-data" aria-label="Permalink to “数据（Data）”">​</a></h3><p>数据是描述事物的符号记录，<strong>不只是数字</strong>，还包括文本、图片、音频、视频等。比如：</p><ul><li>数字：用户ID（1001）、商品价格（99.9）；</li><li>文本：用户名（“张三”）、商品描述（“华为Mate60 Pro”）；</li><li>其他：用户头像（二进制文件）、订单创建时间（“2025-01-01 10:00:00”）。</li></ul><p>数据的核心特征是<strong>可存储、可处理、可传递</strong>，而数据库的本质就是为了高效管理这些数据。</p><h3 id="数据库-database-db" tabindex="-1">数据库（Database，DB） <a class="header-anchor" href="#数据库-database-db" aria-label="Permalink to “数据库（Database，DB）”">​</a></h3><p>数据库是长期存储在计算机内、有组织、可共享的大量数据的集合。它的核心特点：</p><ol><li><strong>结构化</strong>：数据按一定规则组织（比如表格、键值对），而非杂乱的文件；</li><li><strong>可共享</strong>：多个用户/应用可同时访问（需权限控制）；</li><li><strong>独立性</strong>：数据存储与应用程序解耦，修改数据结构不影响程序运行。</li></ol><p>举个简单例子：</p><ul><li>杂乱的文件（非数据库）：把用户信息存在<code>user.txt</code>里，每行是一个用户，格式混乱，查询“年龄20-30岁的用户”需要逐行读取；</li><li>数据库：把用户信息存在结构化的表中，通过简单指令就能快速筛选、统计，效率提升百倍。</li></ul><h2 id="_1-2-数据库管理系统-dbms-的作用与分类" tabindex="-1">1.2 数据库管理系统（DBMS）的作用与分类 <a class="header-anchor" href="#_1-2-数据库管理系统-dbms-的作用与分类" aria-label="Permalink to “1.2 数据库管理系统（DBMS）的作用与分类”">​</a></h2><h3 id="什么是dbms" tabindex="-1">什么是DBMS？ <a class="header-anchor" href="#什么是dbms" aria-label="Permalink to “什么是DBMS？”">​</a></h3><p>数据库管理系统（Database Management System，DBMS）是操作和管理数据库的软件，是用户与数据库之间的“桥梁”。你不用直接操作底层数据文件，而是通过DBMS提供的接口（比如SQL语句）管理数据。</p><h3 id="dbms的核心作用" tabindex="-1">DBMS的核心作用 <a class="header-anchor" href="#dbms的核心作用" aria-label="Permalink to “DBMS的核心作用”">​</a></h3><ol><li><strong>数据定义</strong>：创建/修改/删除数据库、表结构（比如MySQL中用<code>CREATE TABLE</code>）；</li><li><strong>数据操纵</strong>：增删改查数据（<code>INSERT/DELETE/UPDATE/SELECT</code>）；</li><li><strong>数据控制</strong>：权限管理、事务控制（保证数据一致性）；</li><li><strong>数据存储与维护</strong>：自动管理数据存储、备份恢复、性能优化；</li><li><strong>数据接口</strong>：提供多种访问方式（命令行、图形化工具、编程接口）。</li></ol><h3 id="dbms的分类" tabindex="-1">DBMS的分类 <a class="header-anchor" href="#dbms的分类" aria-label="Permalink to “DBMS的分类”">​</a></h3><p>按数据的组织方式，主流DBMS可分为两类：</p><table tabindex="0"><thead><tr><th>分类</th><th>核心特征</th><th>代表产品</th></tr></thead><tbody><tr><td>关系型DBMS（RDBMS）</td><td>数据以“表”组织，表之间通过关联关系连接，支持SQL</td><td>MySQL、Oracle、PostgreSQL、SQL Server</td></tr><tr><td>非关系型DBMS（NoSQL）</td><td>数据存储格式灵活（键值、文档、列族、图形），不严格遵循关系模型</td><td>Redis（键值）、MongoDB（文档）、Elasticsearch（全文检索）、Neo4j（图形）</td></tr></tbody></table><p>补充：还有“NewSQL”类（比如TiDB），融合了关系型的结构化和非关系型的高并发，是近几年的主流方向。</p><h2 id="_1-3-关系型数据库与非关系型数据库的差异对比" tabindex="-1">1.3 关系型数据库与非关系型数据库的差异对比 <a class="header-anchor" href="#_1-3-关系型数据库与非关系型数据库的差异对比" aria-label="Permalink to “1.3 关系型数据库与非关系型数据库的差异对比”">​</a></h2><p>这是新手最易混淆的点，我们从核心维度对比，帮你快速理解：</p><h3 id="核心差异表" tabindex="-1">核心差异表 <a class="header-anchor" href="#核心差异表" aria-label="Permalink to “核心差异表”">​</a></h3><table tabindex="0"><thead><tr><th>对比维度</th><th>关系型数据库（如MySQL）</th><th>非关系型数据库（如MongoDB/Redis）</th></tr></thead><tbody><tr><td>数据模型</td><td>基于关系模型，数据存于二维表，表有固定结构（字段、类型）</td><td>无固定结构，支持键值、文档、图形等灵活模型</td></tr><tr><td>事务支持</td><td>严格支持ACID特性（原子性、一致性、隔离性、持久性）</td><td>部分支持（如MongoDB 4.0+支持事务，Redis仅单命令原子性）</td></tr><tr><td>SQL支持</td><td>完全支持标准SQL，查询能力强</td><td>多数不支持标准SQL，有自定义查询语法</td></tr><tr><td>扩展性</td><td>垂直扩展为主（升级服务器配置），水平扩展复杂</td><td>水平扩展为主（增加服务器节点），易实现分布式</td></tr><tr><td>适用场景</td><td>数据结构固定、需强事务、复杂查询（如电商订单、金融数据）</td><td>数据结构多变、高并发读写、海量数据存储（如社交动态、缓存、日志）</td></tr></tbody></table><h3 id="实操示例-两种数据库的存储形式" tabindex="-1">实操示例：两种数据库的存储形式 <a class="header-anchor" href="#实操示例-两种数据库的存储形式" aria-label="Permalink to “实操示例：两种数据库的存储形式”">​</a></h3><h4 id="关系型-mysql-存储用户信息" tabindex="-1">关系型（MySQL）存储用户信息 <a class="header-anchor" href="#关系型-mysql-存储用户信息" aria-label="Permalink to “关系型（MySQL）存储用户信息”">​</a></h4><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 创建用户表（固定结构）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AUTO_INCREMENT,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 主键，自增</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> VARCHAR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NOT NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 姓名，非空</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 年龄</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  phone </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VARCHAR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UNIQUE</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            -- 手机号，唯一</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 插入数据</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INSERT INTO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, age, phone) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;张三&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;13800138000&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="非关系型-mongodb-存储用户信息" tabindex="-1">非关系型（MongoDB）存储用户信息 <a class="header-anchor" href="#非关系型-mongodb-存储用户信息" aria-label="Permalink to “非关系型（MongoDB）存储用户信息”">​</a></h4><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 插入用户数据（结构灵活，可随时加字段）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">db.user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">insertOne</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  phone: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;13800138000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  hobby: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;篮球&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;编程&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 新增字段无需修改表结构</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="选型建议" tabindex="-1">选型建议 <a class="header-anchor" href="#选型建议" aria-label="Permalink to “选型建议”">​</a></h3><ul><li>选MySQL：你的业务需要严格的事务（比如转账、订单支付）、复杂的多表关联查询；</li><li>选NoSQL：你的业务需要高并发读写（比如秒杀）、数据结构多变（比如用户画像）、海量数据存储（比如日志）。</li></ul><h2 id="_1-4-数据库技术的发展历程与应用场景" tabindex="-1">1.4 数据库技术的发展历程与应用场景 <a class="header-anchor" href="#_1-4-数据库技术的发展历程与应用场景" aria-label="Permalink to “1.4 数据库技术的发展历程与应用场景”">​</a></h2><h3 id="发展历程-简化版" tabindex="-1">发展历程（简化版） <a class="header-anchor" href="#发展历程-简化版" aria-label="Permalink to “发展历程（简化版）”">​</a></h3><ol><li><strong>人工管理阶段（20世纪50年代前）</strong>：无数据库，数据存在纸带/卡片，与程序绑定，无法共享；</li><li><strong>文件系统阶段（50年代中-60年代中）</strong>：数据存在文件（如txt、csv），可共享，但冗余大、查询慢；</li><li><strong>数据库系统阶段（60年代后至今）</strong>： <ul><li>1970年：IBM研究员提出关系模型，奠定关系型数据库基础；</li><li>1980年代：Oracle、SQL Server等商用RDBMS出现；</li><li>1995年：MySQL发布，开源免费，快速普及；</li><li>2000年后：NoSQL兴起（应对大数据、高并发）；</li><li>2010年后：NewSQL（TiDB、CockroachDB）融合关系型与非关系型优势。</li></ul></li></ol><h3 id="mysql的核心应用场景" tabindex="-1">MySQL的核心应用场景 <a class="header-anchor" href="#mysql的核心应用场景" aria-label="Permalink to “MySQL的核心应用场景”">​</a></h3><p>作为全球最流行的开源关系型数据库，MySQL的应用无处不在：</p><ol><li><strong>互联网业务</strong>：电商（淘宝/京东订单库）、社交（微信用户数据）、游戏（玩家信息/道具）；</li><li><strong>企业级应用</strong>：ERP系统、财务系统、客户管理系统（CRM）；</li><li><strong>小型应用/个人项目</strong>：博客、小程序后台、个人网站；</li><li><strong>大数据场景</strong>：作为数据仓库的前置库，配合Hadoop/Spark使用。</li></ol><p>补充：MySQL的官方文档<a href="https://dev.mysql.com/doc/" target="_blank" rel="noreferrer">https://dev.mysql.com/doc/</a>是最权威的资料，新手可优先阅读“Getting Started”部分。</p><h2 id="_1-5-数据完整性约束的核心概念" tabindex="-1">1.5 数据完整性约束的核心概念 <a class="header-anchor" href="#_1-5-数据完整性约束的核心概念" aria-label="Permalink to “1.5 数据完整性约束的核心概念”">​</a></h2><p>数据完整性是指数据的准确性、一致性和有效性，DBMS通过“约束”来保证。这是关系型数据库的核心特性，MySQL中常用的约束有5类：</p><h3 id="_1-实体完整性-保证行唯一" tabindex="-1">1. 实体完整性（保证行唯一） <a class="header-anchor" href="#_1-实体完整性-保证行唯一" aria-label="Permalink to “1. 实体完整性（保证行唯一）”">​</a></h3><ul><li><strong>主键约束（PRIMARY KEY）</strong>：唯一标识表中的每一行，非空且唯一。 示例：<div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> product</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 商品ID作为主键</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> VARCHAR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><strong>自增约束（AUTO_INCREMENT）</strong>：配合主键使用，自动生成唯一值（MySQL特有）。</li></ul><h3 id="_2-域完整性-保证列有效" tabindex="-1">2. 域完整性（保证列有效） <a class="header-anchor" href="#_2-域完整性-保证列有效" aria-label="Permalink to “2. 域完整性（保证列有效）”">​</a></h3><ul><li><strong>非空约束（NOT NULL）</strong>：字段不能为空；</li><li><strong>默认值约束（DEFAULT）</strong>：字段未赋值时使用默认值；</li><li><strong>数据类型约束</strong>：比如<code>INT</code>只能存整数，<code>VARCHAR(50)</code>限制字符长度。 示例：<div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> order</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  amount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DECIMAL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NOT NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 订单金额，非空</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> VARCHAR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DEFAULT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;未支付&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  -- 状态默认未支付</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul><h3 id="_3-参照完整性-保证表关联有效" tabindex="-1">3. 参照完整性（保证表关联有效） <a class="header-anchor" href="#_3-参照完整性-保证表关联有效" aria-label="Permalink to “3. 参照完整性（保证表关联有效）”">​</a></h3><ul><li><strong>外键约束（FOREIGN KEY）</strong>：关联两个表，保证子表数据依赖于父表的存在。 示例：<div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 父表：用户表</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> VARCHAR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 子表：订单表（外键关联用户ID）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> order</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  user_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  FOREIGN KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (user_id) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">REFERENCES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user(id)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 外键约束</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>作用：无法删除有订单的用户，避免数据孤立。</li></ul><h3 id="_4-唯一性约束-unique" tabindex="-1">4. 唯一性约束（UNIQUE） <a class="header-anchor" href="#_4-唯一性约束-unique" aria-label="Permalink to “4. 唯一性约束（UNIQUE）”">​</a></h3><p>保证字段值唯一（可空，与主键的区别：主键非空且一个表只能有一个）。 示例：</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  email </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VARCHAR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UNIQUE</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  -- 邮箱唯一</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_5-自定义约束-check" tabindex="-1">5. 自定义约束（CHECK） <a class="header-anchor" href="#_5-自定义约束-check" aria-label="Permalink to “5. 自定义约束（CHECK）”">​</a></h3><p>MySQL 8.0.16+支持，自定义字段的取值范围。 示例：</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  score </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> CHECK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (score </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> score </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 分数0-100</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_1-6-数据库系统的基本架构组成" tabindex="-1">1.6 数据库系统的基本架构组成 <a class="header-anchor" href="#_1-6-数据库系统的基本架构组成" aria-label="Permalink to “1.6 数据库系统的基本架构组成”">​</a></h2><p>一个完整的数据库系统不只是“数据库+DBMS”，而是由多个组件构成的整体，我们以MySQL为例，拆解核心架构：</p><h3 id="_1-硬件层" tabindex="-1">1. 硬件层 <a class="header-anchor" href="#_1-硬件层" aria-label="Permalink to “1. 硬件层”">​</a></h3><ul><li>服务器：运行DBMS的物理机/虚拟机（CPU、内存、磁盘是关键，MySQL对内存要求较高）；</li><li>存储设备：存放数据文件（推荐SSD，提升读写速度）。</li></ul><h3 id="_2-系统软件层" tabindex="-1">2. 系统软件层 <a class="header-anchor" href="#_2-系统软件层" aria-label="Permalink to “2. 系统软件层”">​</a></h3><ul><li>操作系统：Linux（生产环境主流）、Windows（开发环境）；</li><li>网络协议：TCP/IP（MySQL默认端口3306）。</li></ul><h3 id="_3-dbms层-mysql核心" tabindex="-1">3. DBMS层（MySQL核心） <a class="header-anchor" href="#_3-dbms层-mysql核心" aria-label="Permalink to “3. DBMS层（MySQL核心）”">​</a></h3><p>MySQL的核心模块：</p><ul><li><strong>连接管理</strong>：处理客户端连接（认证、线程分配）；</li><li><strong>SQL解析器</strong>：解析SQL语句，检查语法；</li><li><strong>优化器</strong>：生成最优执行计划（比如选择哪个索引）；</li><li><strong>执行器</strong>：执行SQL语句，操作存储引擎；</li><li><strong>存储引擎</strong>：负责数据的存储和读取（MySQL支持多种引擎，如InnoDB、MyISAM）。</li></ul><h3 id="_4-数据库层" tabindex="-1">4. 数据库层 <a class="header-anchor" href="#_4-数据库层" aria-label="Permalink to “4. 数据库层”">​</a></h3><ul><li>数据库实例：运行中的MySQL进程；</li><li>数据库对象：表、索引、视图、存储过程等；</li><li>数据文件：底层存储数据的文件（如InnoDB的<code>.ibd</code>文件）。</li></ul><h3 id="_5-应用层" tabindex="-1">5. 应用层 <a class="header-anchor" href="#_5-应用层" aria-label="Permalink to “5. 应用层”">​</a></h3><ul><li>客户端工具：命令行（mysql）、图形化工具（Navicat、DBeaver）；</li><li>应用程序：Java/Python/PHP等编写的业务系统，通过JDBC/MySQLdb等驱动访问MySQL；</li><li>中间件：分库分表（Sharding-JDBC）、缓存（Redis）、读写分离（MyCat）。</li></ul><h3 id="架构示意图-简化版" tabindex="-1">架构示意图（简化版） <a class="header-anchor" href="#架构示意图-简化版" aria-label="Permalink to “架构示意图（简化版）”">​</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>应用程序 → 驱动（JDBC/MySQLdb） → MySQL连接层 → SQL解析/优化/执行 → 存储引擎 → 数据文件</span></span>
<span class="line"><span>                                  ↑</span></span>
<span class="line"><span>                                  └── 权限管理/事务控制</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="关键补充" tabindex="-1">关键补充 <a class="header-anchor" href="#关键补充" aria-label="Permalink to “关键补充”">​</a></h3><ul><li>InnoDB是MySQL默认存储引擎，支持事务和行锁，适合生产环境；</li><li>MyISAM不支持事务，查询速度快，适合只读场景（如日志表）。</li></ul><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to “总结”">​</a></h2><ol><li>数据库的核心是<strong>结构化存储、高效管理数据</strong>，DBMS是操作数据库的核心工具；</li><li>关系型（MySQL）与非关系型数据库的核心差异在<strong>数据模型、事务支持、扩展性</strong>，选型需匹配业务场景；</li><li>数据完整性约束是保证数据准确的关键，主键、外键、唯一约束是MySQL中最常用的；</li><li>数据库系统是分层架构，MySQL的核心是“连接层→解析层→执行层→存储引擎层”，理解架构有助于后续排查问题和优化性能。</li></ol><p>这一章的内容偏理论，但却是后续学习的基础。下一章我们将进入实操环节，学习MySQL的环境搭建和基础操作。</p>`,74)])])}const o=i(h,[["render",e]]);export{g as __pageData,o as default};
